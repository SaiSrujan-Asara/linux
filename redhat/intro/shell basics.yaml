ðŸŸ¦ What is a Shell in Linux?

(Complete theory + examples + types + internals + best practices â€” RHCSA-ready)

---
ðŸŸ¥ 1. Definition: What is a Shell?

A shell is:

A program that takes commands from the user and passes them to the Linux kernel for execution.

It is the interface between:

User

Operating System (Kernel)

A shell can be:

Command-line shell (CLI)

Graphical shell (GUI components)
But in Linux, â€œshellâ€ almost always means command-line shell.

---
ðŸŸ¥ 2. Shell = Command Interpreter

It performs two main jobs:

--
1ï¸âƒ£ Command Interpretation

Example:

ls -l

Shell interprets â†’ translates â†’ kernel executes â†’ output shown.

--
2ï¸âƒ£ Scripting Engine (Shell Scripts)

Shell lets you automate tasks with .sh files:

Example:

#!/bin/bash
echo "Hello Linux"

--
ðŸŸ¥ 3. Types of Shells Used in Linux

Linux supports many shells.

The most common ones:

--
ðŸ”µ 1. Bash (Bourne Again Shell)

Default on most Linux distros (including RHEL)

Most widely used

Best for scripting

RHCSA uses bash only

--
ðŸ”µ 2. sh (Bourne Shell)

Very basic shell

Compatible with old scripts

Parent of all modern shells

--
ðŸ”µ 3. zsh (Z Shell)

Modern, interactive

Power-users prefer it

Used on macOS by default

Not default in Red Hat systems

--
ðŸ”µ 4. ksh (Korn Shell)

Used in enterprise UNIX systems

Great for scripting

Still used in banking & old servers

--
ðŸ”µ 5. csh / tcsh (C Shell)

Syntax similar to C language

Rarely used now

--
ðŸ”µ 6. fish shell

User-friendly

Auto-suggestions

Not POSIX shell

---
ðŸŸ¥ 4. Which Shell Does Red Hat Use? (Important)

Red Hat uses:

âœ” Bash as the default login shell
âœ” Located at: /bin/bash

You must know how to check the current shell:

echo $SHELL

--
To list all shells available:

cat /etc/shells

---
ðŸŸ¥ 5. Shell Architecture (Deep Concept)

A shell consists of:

1ï¸âƒ£ Lexer

Breaks user input into tokens
Example:
ls -l /home â†’ ls, -l, /home

2ï¸âƒ£ Parser

Understands structure of the command

3ï¸âƒ£ Executor

Actually runs the command using system calls

4ï¸âƒ£ Environment Manager

Handles variables like:

$PATH

$USER

$HOME

5ï¸âƒ£ Job Controller

Manages background and foreground processes.

Example:

sleep 100 &

---
ðŸŸ¥ 6. Login vs Non-login Shell

--
ðŸ”µ Login Shell

Triggered when:

SSH into a system

Terminal login (tty)

Switching user: su - username

It reads:

/etc/profile

~/.bash_profile

--
ðŸ”µ Non-login Shell

Triggered when:

Opening terminal inside GUI

Running a script

It reads:

~/.bashrc

Why is this important?

For RHCSA, environment variable behavior depends on login vs non-login shells.

---

ðŸŸ¥ 7. Interactive vs Non-Interactive Shell

Interactive Shell

You type commands, it responds immediately.

Non-Interactive Shell

Runs scripts automatically.

Example:

bash myscript.sh

---

ðŸŸ¥ 8. POSIX Shell vs Non-POSIX Shell

POSIX-compatible shells:

sh

bash

ksh

dash

Meaning:

Follow IEEE POSIX standards

Scripts will run on any UNIX/LINUX system

Non-POSIX shells:

fish

Windows PowerShell

tcsh (partially)

---

ðŸŸ¥ 9. Default Shell of a User

To check user shell:

cat /etc/passwd | grep username


To change shell:

chsh -s /bin/bash username

---

ðŸŸ¥ 10. Use Cases of Shells

âœ” Bash

RHCSA exams

Enterprise servers

Automation

Scripting

SSH sessions

âœ” Zsh

Developers

Customization

Personal systems

âœ” Sh

Legacy scripts

Embedded systems

âœ” Ksh

Banking

Finance applications

---

ðŸŸ¥ 11. Where NOT to use certain shells

âœ– Donâ€™t use fish for scripting

(non-POSIX â†’ scripts won't run everywhere)

âœ– Donâ€™t use csh/tcsh for new development

(outdated and syntactically inconsistent)

âœ– Donâ€™t use bash on old UNIX servers

(use ksh/sh)

---

ðŸŸ¥ 12. Shell Parameters (Deep Dive)

âœ” $0

Script name

âœ” $1, $2, â€¦

Arguments

âœ” $#

Argument count

âœ” $?

Exit status of last command

âœ” $$

PID of current shell

âœ” $PATH

Executable search path

Example:

echo $PATH

---

ðŸŸ¥ 13. Best Practices (RHCSA & Real World)

âœ” Use bash for all scripting
âœ” Set PATH carefully
âœ” Always start scripts with shebang (#!/bin/bash)
âœ” Use quotes properly
âœ” Use shellcheck to validate scripts
âœ” Use variables in uppercase
âœ” Donâ€™t use fish for enterprise automation

---

ðŸŸ© Summary (Quick Revision)

A shell is a command interpreter between user and kernel.

RHEL uses bash as default shell.

Shell can be login/non-login, interactive/non-interactive.

Types: bash, sh, zsh, ksh, csh, fish.

Bash = best for scripting and exams.

---------------------------------
---------------------------------
Terminal vs Shell vs Bash
---------------------------------
---------------------------------

âœ… SHORT ANSWER (Quick Reference)

Terminal = The window/program you type in (input/output interface).

Shell = The command interpreter (software that reads your commands).

Bash = One specific type of shell (the most commonly used one).

---
ðŸ”¥ FULL DETAILED EXPLANATION (Required for Mastery)

1ï¸âƒ£ TERMINAL (TTY / Terminal Emulator)

A terminal is NOT the shell.

It is the interface that displays text and lets you type commands.

Historically, terminals were physical devices connected to mainframes.

---
âœ” What a Terminal Does

Displays output from the shell.

Sends what you type to the shell.

Provides scrolling, colors, fonts.

Can open multiple sessions.

---
âœ” Examples of terminal emulators:

| OS             | Terminal Program                |
| -------------- | ------------------------------- |
| Linux          | GNOME Terminal, Konsole, XTerm  |
| macOS          | Terminal.app, iTerm2            |
| Windows        | Windows Terminal, PuTTY         |
| CLI-only Linux | TTY1â€“TTY6 (Ctrl + Alt + F1..F6) |

---
âœ” Terminal is only a display/input box â€” it does NOT execute commands.

Diagram (Conceptual)

Keyboard â†’ Terminal â†’ Shell â†’ Linux Kernel
                     â†‘
                  Output sent back to Terminal

---
2ï¸âƒ£ SHELL (Command Interpreter)

The shell is a program that:

reads your commands,

interprets them,

executes programs,

shows results.

It is the brain behind the terminal session.

--
âœ” Responsibilities of the shell:

Parse commands

Expand variables ($PATH)

Handle wildcards (*.txt)

Run programs (ls, cat, etc.)

Handle I/O redirection (>, <)

Pipelines (|)

Command history

Scripting

--
âœ” Types of shells

There are many shells:

| Shell    | Full Name                  | Notes                              |
| -------- | -------------------------- | ---------------------------------- |
| **sh**   | Bourne Shell               | Oldest UNIX shell                  |
| **bash** | Bourne Again Shell         | Default on most Linux systems      |
| **zsh**  | Z Shell                    | Better autocomplete, fancy         |
| **ksh**  | Korn Shell                 | Common in enterprise UNIX          |
| **fish** | Friendly Interactive Shell | For beginners, not POSIX-compliant |

--
âœ” Check your shell:

echo $SHELL

This tells which shell you're currently running.

---
3ï¸âƒ£ BASH (A Specific Shell)

Bash = a type of shell, not the shell itself.

Bash = Bourne Again Shell

Created as an improved version of the original Bourne shell (sh).

âœ” What makes Bash special?

Command history

Aliases

Brace expansion ({1..10})

Tab auto-completion

Scripting features

Job control

Better error handling

---
âœ” Bash is both a:

Command interpreter (interactive use)

Scripting language (bash scripts)

Check bash version:

bash --version

---
ðŸ“Œ Key Differences (Exam-Ready Table)

| Feature                | Terminal                      | Shell                  | Bash                                |
| ---------------------- | ----------------------------- | ---------------------- | ----------------------------------- |
| Is it a program?       | Yes                           | Yes                    | Yes                                 |
| Executes commands?     | âŒ No                          | âœ” Yes                  | âœ” Yes (shell type)                  |
| Displays text?         | âœ” Yes                         | âŒ No                   | âŒ No                                |
| Interprets syntax?     | âŒ No                          | âœ” Yes                  | âœ” Yes                               |
| Is it graphical?       | Often                         | No                     | No                                  |
| Is it a type of shell? | No                            | No                     | YES                                 |
| Can you replace it?    | Yes (use different terminals) | Yes (use zsh/ksh/fish) | Bash only replaced by another shell |
| Used in RHCSA?         | Yes (terminal access needed)  | Yes                    | Yes (most questions use bash)       |


---
ðŸ“˜ Real-World Example

When you open GNOME Terminal:

GNOME Terminal starts (terminal emulator)

It automatically launches your default shell (usually bash)

You type:

ls

The shell interprets it

Linux kernel executes /bin/ls

Output is displayed in the terminal

---
ðŸ§  Analogy to Understand

Terminal = WhatsApp chat window
Shell = The person reading & replying
Bash = A specific person (like your best friend) who follows certain rules & style

Terminal = Interface
Shell = Command interpreter
Bash = One shell type

---
ðŸ”¥ Practical Commands to See the Differences

What terminal am I using?
echo $TERM

What shell am I using?
echo $SHELL

List shells installed:
cat /etc/shells

Switch to bash:
bash

Switch to sh:
sh

----------------------------------
----------------------------------
ðŸ”¥ bash vs sh â€” Complete Comparison Table

| Feature / Behavior                    | **bash** (Bourne Again Shell)                       | **sh** (Bourne Shell / POSIX Shell)                        |
| ------------------------------------- | --------------------------------------------------- | ---------------------------------------------------------- |
| **Full Name**                         | Bourne Again SHell                                  | Bourne Shell                                               |
| **Release Year**                      | 1989                                                | 1977                                                       |
| **Purpose**                           | Modern, powerful interactive + scripting shell      | Simple, portable, POSIX-compatible shell                   |
| **Is it default on Linux?**           | âœ” Yes (RHEL, CentOS, Fedora)                        | âœ” Yes (as `/bin/sh`, but just links to bash in POSIX mode) |
| **In RHEL**                           | `/bin/bash`                                         | `/bin/sh â†’ /usr/bin/bash` (POSIX mode)                     |
| **Interactive features**              | âœ” Yes (history, autocomplete, prompt customization) | âŒ Minimal or none                                          |
| **Command History**                   | âœ” Yes                                               | âŒ Partial / minimal                                        |
| **Tab Completion**                    | âœ” Yes                                               | âŒ No                                                       |
| **Arrays support**                    | âœ” Yes                                               | âŒ No                                                       |
| **`[[ ]]` test command**              | âœ” Yes                                               | âŒ No (only `[ ]`)                                          |
| **Brace expansion (`{1..5}`)**        | âœ” Yes                                               | âŒ No                                                       |
| **String manipulation (`${var^^}`)**  | âœ” Yes                                               | âŒ No                                                       |
| **Arithmetic with `(( ))`**           | âœ” Yes                                               | âŒ Limited/No                                               |
| **Functions**                         | `function f()` + `f()` both supported               | Only `f()` syntax                                          |
| **Process substitution** (`< <(...)`) | âœ” Yes                                               | âŒ No                                                       |
| **Aliases**                           | âœ” Supported                                         | âŒ Not guaranteed                                           |
| **Source command**                    | `source file` + `. file`                            | Only `. file`                                              |
| **Performance**                       | Heavier, slower to start                            | Much faster, lightweight                                   |
| **Scripting use**                     | Full-featured, advanced                             | Minimal, portable, POSIX only                              |
| **Portability (UNIX-wide)**           | âŒ Not fully portable                                | âœ” Highly portable                                          |
| **Shebang for scripts**               | `#!/bin/bash`                                       | `#!/bin/sh`                                                |
| **Error handling**                    | Improved                                            | Basic                                                      |
| **Suitable for Boot Scripts**         | âŒ No                                                | âœ” Yes                                                      |
| **Suitable for Interactive Use**      | âœ” Excellent                                         | âŒ Poor                                                     |
| **Suitable for RHCSA exam?**          | âœ” Recommended / Default                             | âŒ Not needed except conceptual                             |
| **Subshell behavior**                 | More features, more expansions                      | Simpler POSIX rules                                        |
| **Default prompt**                    | Colored, feature-rich                               | Very plain                                                 |
| **Wildcard expansion**                | More advanced                                       | Basic POSIX expansion                                      |


---
ðŸ§  Simplified View (Quick Memory Hack)

| bash                              | sh                    |
| --------------------------------- | --------------------- |
| New                               | Old                   |
| Feature-rich                      | Basic                 |
| Arrays, `[[ ]]`, `{}`, `${var^^}` | None of these         |
| Interactive                       | Non-interactive       |
| Great for scripting               | Great for portability |
| Default in Linux                  | POSIX fallback        |

---
ðŸ”¥ Execution Compatibility Table

| Script Type                    | Run with `bash` | Run with `sh` |
| ------------------------------ | --------------- | ------------- |
| POSIX-only script              | âœ” Works         | âœ” Works       |
| Bash-only script               | âœ” Works         | âŒ Fails       |
| Script with arrays             | âœ” Works         | âŒ Fails       |
| Script using `[[ ]]`           | âœ” Works         | âŒ Fails       |
| Script using brace expansion   | âœ” Works         | âŒ Fails       |
| Script using advanced features | âœ” Works         | âŒ Fails       |


---
âœ” When to Use Which (Admin Guide)

| Use Case                       | bash  | sh                       |
| ------------------------------ | ----- | ------------------------ |
| Writing automation scripts     | âœ” Yes | âŒ                        |
| Interactive command-line usage | âœ” Yes | âŒ                        |
| RHCSA exam                     | âœ” Yes | âŒ                        |
| Portable cross-UNIX scripts    | âŒ     | âœ” Yes                    |
| System boot scripts            | âŒ     | âœ” Yes                    |
| Minimal containers             | âŒ     | âœ” Yes (faster & smaller) |
